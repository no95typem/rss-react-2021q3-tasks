/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/client/store/actions/actions.d.ts":
/*!***********************************************!*\
  !*** ./src/client/store/actions/actions.d.ts ***!
  \***********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/client/components/404/404.tsx":
/*!*******************************************!*\
  !*** ./src/client/components/404/404.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NotFoundPage": () => (/* binding */ NotFoundPage)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/404/404.tsx",
    _this = undefined;



var NotFoundPage = function NotFoundPage() {
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("section", {
    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("h2", {
      children: "404: Not found"
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 6,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 5,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/components/about/about.tsx":
/*!***********************************************!*\
  !*** ./src/client/components/about/about.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "About": () => (/* binding */ About)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _about_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./about.scss */ "./src/client/components/about/about.scss");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/about/about.tsx",
    _this = undefined;




var About = function About() {
  // const videoRef = React.useRef<HTMLVideoElement>(null!);
  // const mediaStreamConstrains: MediaStreamConstraints = {
  //   video: true,
  // };
  // navigator.mediaDevices.getUserMedia(mediaStreamConstrains);
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("section", {
    className: _about_scss__WEBPACK_IMPORTED_MODULE_1__.default.root,
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("h2", {
      children: "About"
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 16,
      columnNumber: 7
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("article", {
      className: _about_scss__WEBPACK_IMPORTED_MODULE_1__.default.root__article,
      children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("p", {
        children: "This is my small project for Rolling Scopes School: React 2021 Q3."
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 18,
        columnNumber: 9
      }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("section", {
        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("p", {
          children: "In the project I learned React basics:"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 22,
          columnNumber: 11
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("ul", {
          children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "React components (FC and CC)"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 24,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "React state, hooks, lifecycle, a data flow pattern"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 25,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "React router"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 26,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "React transition group"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 27,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "React + Redux + thunk"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 28,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "React + Jest + React testing library"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 29,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 23,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 21,
        columnNumber: 9
      }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("section", {
        children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("p", {
          children: ["The project uses ", /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("a", {
            href: "https://wallhaven.cc",
            children: "Wallhaven"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 34,
            columnNumber: 30
          }, _this), " API. It is tricky because server responses do not have some essential headers. Therefore app need a cors proxy server."]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 33,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 32,
        columnNumber: 9
      }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("section", {
        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("p", {
          children: "The project written and builded with usage of:"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 40,
          columnNumber: 11
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("ul", {
          children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "React"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 42,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "Redux + thunk"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 43,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "Bootstrap CSS and icons"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 44,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "Typescript"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 45,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("li", {
            children: "Webpack 5"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 46,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 41,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 39,
        columnNumber: 9
      }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("p", {
        children: "You can find more at my github repo."
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 49,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 17,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 15,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/components/app/app.tsx":
/*!*******************************************!*\
  !*** ./src/client/components/app/app.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "App": () => (/* binding */ App)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-transition-group */ "react-transition-group");
/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_transition_group__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _about_about__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../about/about */ "./src/client/components/about/about.tsx");
/* harmony import */ var _404_404__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../404/404 */ "./src/client/components/404/404.tsx");
/* harmony import */ var _details_details__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../details/details */ "./src/client/components/details/details.tsx");
/* harmony import */ var _app_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app.scss */ "./src/client/components/app/app.scss");
/* harmony import */ var _gallery_gallery__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../gallery/gallery */ "./src/client/components/gallery/gallery.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/app/app.tsx",
    _this = undefined;








 // const GalleryReduxed = React.lazy(() => import('../gallery/gallery'));


var CSS_TRANSITION_CLASSNAMES = {
  enter: _app_scss__WEBPACK_IMPORTED_MODULE_6__.default.route_enter,
  enterActive: _app_scss__WEBPACK_IMPORTED_MODULE_6__.default["route_enter-active"],
  exit: _app_scss__WEBPACK_IMPORTED_MODULE_6__.default.route_exit,
  exitActive: _app_scss__WEBPACK_IMPORTED_MODULE_6__.default["route_exit-active"]
};

var Routes = function Routes() {
  var location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useLocation)();
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(react_transition_group__WEBPACK_IMPORTED_MODULE_2__.SwitchTransition, {
    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(react_transition_group__WEBPACK_IMPORTED_MODULE_2__.CSSTransition, {
      addEndListener: function addEndListener(node, done) {
        return node.addEventListener('transitionend', done, false);
      },
      classNames: CSS_TRANSITION_CLASSNAMES,
      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Switch, {
        location: location,
        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Route, {
          exact: true,
          path: "/about",
          children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(_about_about__WEBPACK_IMPORTED_MODULE_3__.About, {}, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 42,
            columnNumber: 13
          }, _this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 41,
          columnNumber: 11
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Route, {
          exact: true,
          strict: true,
          path: "/",
          children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(_gallery_gallery__WEBPACK_IMPORTED_MODULE_7__.GalleryReduxed, {}, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 45,
            columnNumber: 13
          }, _this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 44,
          columnNumber: 11
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Route, {
          path: "/details/:id",
          children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(_details_details__WEBPACK_IMPORTED_MODULE_5__.DetailsPageReduxed, {}, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 48,
            columnNumber: 13
          }, _this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 47,
          columnNumber: 11
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Route, {
          path: "*",
          children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(_404_404__WEBPACK_IMPORTED_MODULE_4__.NotFoundPage, {}, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 51,
            columnNumber: 13
          }, _this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 50,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 40,
        columnNumber: 9
      }, _this)
    }, location.pathname, false, {
      fileName: _jsxFileName,
      lineNumber: 33,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 32,
    columnNumber: 5
  }, _this);
};

var App = function App() {
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)("div", {
    className: _app_scss__WEBPACK_IMPORTED_MODULE_6__.default.app,
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)("header", {
      className: "container-fluid",
      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)("nav", {
        children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)("ul", {
          className: "nav nav-pills",
          children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)("li", {
            className: "nav-item",
            children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.NavLink, {
              exact: true,
              strict: true,
              className: "nav-link",
              to: "/",
              children: "Search"
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 73,
              columnNumber: 15
            }, _this)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 72,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)("li", {
            className: "nav-item",
            children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.NavLink, {
              exact: true,
              className: "nav-link",
              to: "/about",
              children: "About"
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 78,
              columnNumber: 15
            }, _this)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 77,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 71,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 70,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 69,
      columnNumber: 7
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxDEV)(Routes, {}, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 85,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 61,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/components/content-box/content-box.tsx":
/*!***********************************************************!*\
  !*** ./src/client/components/content-box/content-box.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ContentBox": () => (/* binding */ ContentBox)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _content_item_content_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./content-item/content-item */ "./src/client/components/content-box/content-item/content-item.tsx");
/* harmony import */ var _spinner_border_spinner_border__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../spinner-border/spinner-border */ "./src/client/components/spinner-border/spinner-border.tsx");
/* harmony import */ var _content_box_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./content-box.scss */ "./src/client/components/content-box/content-box.scss");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/content-box/content-box.tsx",
    _this = undefined;






var ContentBox = function ContentBox(props) {
  var root = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);
  var spinDiv = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);
  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    var div = root.current;

    if (div) {
      if (props.scrollTop) div.scrollTop = props.scrollTop;

      div.onscroll = function () {
        var _props$onScroll, _spinDiv$current, _props$onScrollEnd;

        (_props$onScroll = props.onScroll) === null || _props$onScroll === void 0 ? void 0 : _props$onScroll.call(props, div.scrollTop);
        var rect = (_spinDiv$current = spinDiv.current) === null || _spinDiv$current === void 0 ? void 0 : _spinDiv$current.getBoundingClientRect();
        var height = window.innerHeight;
        if (rect && (rect === null || rect === void 0 ? void 0 : rect.top) < height) (_props$onScrollEnd = props.onScrollEnd) === null || _props$onScrollEnd === void 0 ? void 0 : _props$onScrollEnd.call(props);
      };

      return function () {
        div.onscroll = null;
      };
    }

    return undefined;
  }, []);
  var cards = Object.values(props.memory);
  var oneLoaded = cards.some(function (v) {
    return v.loadSuccess !== undefined;
  });
  var content;
  if (props.error) content = /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {
    className: "alert alert-danger",
    role: "alert",
    children: "Fetching error!"
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 50,
    columnNumber: 7
  }, _this);else if (!oneLoaded && props.fetching) content = /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {
    className: _content_box_scss__WEBPACK_IMPORTED_MODULE_3__.default["content-item_plug"],
    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(_spinner_border_spinner_border__WEBPACK_IMPORTED_MODULE_2__.SpinnerBorder, {}, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 57,
      columnNumber: 9
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 56,
    columnNumber: 7
  }, _this);else if (cards.length > 0) content = cards.map(function (rec) {
    return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("article", {
      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(_content_item_content_item__WEBPACK_IMPORTED_MODULE_1__.default, {
        data: rec
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 64,
        columnNumber: 11
      }, _this)
    }, rec.id, false, {
      fileName: _jsxFileName,
      lineNumber: 63,
      columnNumber: 9
    }, _this);
  });else if (props.searchPerformed) content = /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {
    className: "alert alert-light",
    role: "alert",
    children: "Found nothing"
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 70,
    columnNumber: 7
  }, _this);else content = /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {
    className: "info info-primary d-flex align-items-center",
    role: "contentinfo",
    style: {
      gap: '10px'
    },
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {
      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("i", {
        className: "bi-search"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 82,
        columnNumber: 11
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 81,
      columnNumber: 9
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {
      children: "Try to search anything!"
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 84,
      columnNumber: 9
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 76,
    columnNumber: 7
  }, _this);
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {
    className: _content_box_scss__WEBPACK_IMPORTED_MODULE_3__.default.root,
    ref: root,
    role: "grid",
    children: props.error || cards.length === 0 ? content : /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {
      className: _content_box_scss__WEBPACK_IMPORTED_MODULE_3__.default.root__cards,
      children: [content, props.end || props.fetching && cards.length === 0 ? undefined : /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {
        className: "".concat(_content_box_scss__WEBPACK_IMPORTED_MODULE_3__.default["root__spinner-box"], " ").concat(_content_box_scss__WEBPACK_IMPORTED_MODULE_3__.default["content-item_plug"]),
        ref: spinDiv,
        children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(_spinner_border_spinner_border__WEBPACK_IMPORTED_MODULE_2__.SpinnerBorder, {}, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 100,
          columnNumber: 15
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 96,
        columnNumber: 13
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 93,
      columnNumber: 9
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 89,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/components/content-box/content-item/content-item.tsx":
/*!*************************************************************************!*\
  !*** ./src/client/components/content-box/content-item/content-item.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "react-router");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _error_plug_error_plug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../error-plug/error-plug */ "./src/client/components/error-plug/error-plug.tsx");
/* harmony import */ var _skeleton_skeleton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../skeleton/skeleton */ "./src/client/components/skeleton/skeleton.tsx");
/* harmony import */ var _content_box_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../content-box.scss */ "./src/client/components/content-box/content-box.scss");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/content-box/content-item/content-item.tsx",
    _this = undefined;








var ContentItem = function ContentItem(props) {
  var history = (0,react_router__WEBPACK_IMPORTED_MODULE_1__.useHistory)();

  switch (props.data.loadSuccess) {
    case undefined:
      return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxDEV)(_skeleton_skeleton__WEBPACK_IMPORTED_MODULE_3__.Skeleton, {}, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 19,
        columnNumber: 14
      }, _this);

    case true:
      return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxDEV)("div", {
        className: _content_box_scss__WEBPACK_IMPORTED_MODULE_4__.default["content-item__wrapper"],
        "data-testid": "content-img",
        children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxDEV)("img", {
          className: _content_box_scss__WEBPACK_IMPORTED_MODULE_4__.default["content-item_Image"],
          src: props.data.thumbs.small,
          alt: "",
          width: "100%",
          onClick: function onClick() {
            history.push("/details/".concat(props.data.id));
          },
          role: "img"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 26,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 22,
        columnNumber: 9
      }, _this);

    case false:
    default:
      return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxDEV)("div", {
        "data-testid": "content-img",
        className: _content_box_scss__WEBPACK_IMPORTED_MODULE_4__.default["content-item__wrapper"],
        children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxDEV)(_error_plug_error_plug__WEBPACK_IMPORTED_MODULE_2__.ErrorPlug, {
          size: "30%",
          text: "Failed to load the image",
          color: "rgba(190, 0, 0, 0.5)"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 45,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 41,
        columnNumber: 9
      }, _this);
  }
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ContentItem);

/***/ }),

/***/ "./src/client/components/details/details.tsx":
/*!***************************************************!*\
  !*** ./src/client/components/details/details.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DetailsPage": () => (/* binding */ DetailsPage),
/* harmony export */   "DetailsPageReduxed": () => (/* binding */ DetailsPageReduxed),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux */ "redux");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _store_actions_details_page_fetchById__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../store/actions/details-page/fetchById */ "./src/client/store/actions/details-page/fetchById.ts");
/* harmony import */ var _store_actions_details_page_reset__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store/actions/details-page/reset */ "./src/client/store/actions/details-page/reset.ts");
/* harmony import */ var _lib_react_components_tables_bs_obj_table__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../lib/react/components/tables/bs-obj-table */ "./src/client/lib/react/components/tables/bs-obj-table.tsx");
/* harmony import */ var _spinner_border_spinner_border__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../spinner-border/spinner-border */ "./src/client/components/spinner-border/spinner-border.tsx");
/* harmony import */ var _spinner_growing_spinner_growing__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../spinner-growing/spinner-growing */ "./src/client/components/spinner-growing/spinner-growing.tsx");
/* harmony import */ var _details_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./details.scss */ "./src/client/components/details/details.scss");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/details/details.tsx",
    _this = undefined;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }












var DetailsPage = function DetailsPage(props) {
  var _props$detailsPageSta = props.detailsPageState,
      flags = _props$detailsPageSta.flags,
      data = _props$detailsPageSta.data;
  var params = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_2__.useParams)();
  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_2__.useHistory)();
  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    props.fetchById(params.id);
    return function () {
      props.resetDetailsPageState();
    };
  }, [params.id]);
  var content;
  if (flags.dataLoaded === undefined) content = /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxDEV)(_spinner_border_spinner_border__WEBPACK_IMPORTED_MODULE_7__.SpinnerBorder, {}, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 38,
    columnNumber: 49
  }, _this);else if (flags.dataLoaded === false || flags.imgPreloaded === false) content = /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxDEV)("div", {
    className: "alert alert-error",
    role: "alert",
    children: "Failed to load image"
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 41,
    columnNumber: 7
  }, _this);else if (flags.imgPreloaded) content = /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxDEV)("img", {
    src: data === null || data === void 0 ? void 0 : data.path
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 45,
    columnNumber: 42
  }, _this);else content = /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxDEV)(_spinner_growing_spinner_growing__WEBPACK_IMPORTED_MODULE_8__.SpinnerGrowing, {}, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 46,
    columnNumber: 18
  }, _this);
  var bsObjTableProps = {
    obj: data || {},
    header: 'INFO'
  };
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxDEV)("section", {
    className: _details_scss__WEBPACK_IMPORTED_MODULE_9__.default.root,
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxDEV)("aside", {
      className: "".concat(_details_scss__WEBPACK_IMPORTED_MODULE_9__.default.root__aside, " table-responsive table-sm"),
      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxDEV)(_lib_react_components_tables_bs_obj_table__WEBPACK_IMPORTED_MODULE_6__.BsObjTable, _objectSpread({}, bsObjTableProps), void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 56,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 55,
      columnNumber: 7
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxDEV)("div", {
      className: _details_scss__WEBPACK_IMPORTED_MODULE_9__.default.root__content,
      children: [content, /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxDEV)("button", {
        className: "".concat(_details_scss__WEBPACK_IMPORTED_MODULE_9__.default["root__btn-backward"], " btn btn-secondary"),
        onClick: function onClick() {
          return history.goBack();
        },
        children: "Back to search"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 60,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 58,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 54,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(store) {
  return {
    detailsPageState: store.detailsPageState
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0,redux__WEBPACK_IMPORTED_MODULE_3__.bindActionCreators)({
    fetchById: _store_actions_details_page_fetchById__WEBPACK_IMPORTED_MODULE_4__.fetchById,
    resetDetailsPageState: _store_actions_details_page_reset__WEBPACK_IMPORTED_MODULE_5__.resetDetailsPageState
  }, dispatch);
};

var DetailsPageReduxed = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(mapStateToProps, mapDispatchToProps)(DetailsPage);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DetailsPageReduxed);

/***/ }),

/***/ "./src/client/components/error-plug/error-plug.tsx":
/*!*********************************************************!*\
  !*** ./src/client/components/error-plug/error-plug.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ErrorPlug": () => (/* binding */ ErrorPlug)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _error_plug_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error-plug.scss */ "./src/client/components/error-plug/error-plug.scss");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/error-plug/error-plug.tsx",
    _this = undefined;

/* eslint-disable max-len */



var ErrorPlug = function ErrorPlug(props) {
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("div", {
    className: _error_plug_scss__WEBPACK_IMPORTED_MODULE_1__.default.root,
    role: "status",
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      fill: props.color || 'red',
      viewBox: "0 0 16 16",
      width: props.size || '50%',
      height: props.size || '50%',
      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("path", {
        d: "M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 22,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 15,
      columnNumber: 7
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("span", {
      children: props.text
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 24,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 14,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/components/gallery/gallery.tsx":
/*!***************************************************!*\
  !*** ./src/client/components/gallery/gallery.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GalleryReduxed": () => (/* binding */ GalleryReduxed),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux */ "redux");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store_actions_gallery_setQuery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store/actions/gallery/setQuery */ "./src/client/store/actions/gallery/setQuery.ts");
/* harmony import */ var _store_actions_gallery_fetch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../store/actions/gallery/fetch */ "./src/client/store/actions/gallery/fetch.ts");
/* harmony import */ var _store_actions_gallery_setContentScrollTop__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store/actions/gallery/setContentScrollTop */ "./src/client/store/actions/gallery/setContentScrollTop.ts");
/* harmony import */ var _store_actions_core_setApiKey__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store/actions/core/setApiKey */ "./src/client/store/actions/core/setApiKey.ts");
/* harmony import */ var _content_box_content_box__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../content-box/content-box */ "./src/client/components/content-box/content-box.tsx");
/* harmony import */ var _wh_search_box_wh_search_box__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../wh-search-box/wh-search-box */ "./src/client/components/wh-search-box/wh-search-box.tsx");
/* harmony import */ var _services_wh_api_wh_client_api__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../services/wh-api/wh-client-api */ "./src/client/services/wh-api/wh-client-api.ts");
/* harmony import */ var _gallery_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./gallery.scss */ "./src/client/components/gallery/gallery.scss");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/gallery/gallery.tsx",
    _this = undefined;














var Gallery = function Gallery(props) {
  var _props$galleryState = props.galleryState,
      flags = _props$galleryState.flags,
      dataMap = _props$galleryState.dataMap,
      query = _props$galleryState.query,
      paginationData = _props$galleryState.paginationData,
      contentScrollTop = _props$galleryState.contentScrollTop;
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxDEV)("section", {
    className: _gallery_scss__WEBPACK_IMPORTED_MODULE_10__.default.root,
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxDEV)(_wh_search_box_wh_search_box__WEBPACK_IMPORTED_MODULE_8__.WHSearchBox, {
      query: query,
      onChange: function onChange(val, key) {
        var newQuery = (0,_services_wh_api_wh_client_api__WEBPACK_IMPORTED_MODULE_9__.modQuery)(query, key, val);
        if (key === 'apiKey') props.setApiKey(newQuery.apiKey);
        props.setQuery(newQuery);
        if (newQuery.page !== query.page) props.Fetch(false, newQuery);
      },
      onSubmit: function onSubmit() {
        return props.Fetch(false);
      },
      busy: flags.fetching,
      pagination: paginationData
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 26,
      columnNumber: 7
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxDEV)(_content_box_content_box__WEBPACK_IMPORTED_MODULE_7__.ContentBox, {
      memory: dataMap,
      onScrollEnd: function onScrollEnd() {
        return props.Fetch(true);
      },
      end: flags.end,
      error: flags.error,
      fetching: flags.fetching,
      searchPerformed: flags.searchPerformed,
      scrollTop: contentScrollTop,
      onScroll: function onScroll(v) {
        return props.setContentScrollTop(v);
      }
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 38,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 25,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(store) {
  return {
    galleryState: store.galleryState
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0,redux__WEBPACK_IMPORTED_MODULE_1__.bindActionCreators)({
    setQuery: _store_actions_gallery_setQuery__WEBPACK_IMPORTED_MODULE_3__.setQuery,
    Fetch: _store_actions_gallery_fetch__WEBPACK_IMPORTED_MODULE_4__.FetchSearch,
    setContentScrollTop: _store_actions_gallery_setContentScrollTop__WEBPACK_IMPORTED_MODULE_5__.setContentScrollTop,
    setApiKey: _store_actions_core_setApiKey__WEBPACK_IMPORTED_MODULE_6__.setApiKey
  }, dispatch);
};

var GalleryReduxed = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.connect)(mapStateToProps, mapDispatchToProps)(Gallery);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GalleryReduxed);

/***/ }),

/***/ "./src/client/components/pagination/pagination.tsx":
/*!*********************************************************!*\
  !*** ./src/client/components/pagination/pagination.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Pagination": () => (/* binding */ Pagination)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lib_generators_generators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/generators/generators */ "./src/client/lib/generators/generators.ts");
/* harmony import */ var _shared_wallheaven_types_pagination__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/wallheaven-types/pagination */ "./src/shared/wallheaven-types/pagination.ts");
/* harmony import */ var _select_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../select/select */ "./src/client/components/select/select.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/pagination/pagination.tsx",
    _this = undefined;

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }








var createPaginatorItem = function createPaginatorItem(val, active, disabled, changeHandler, key) {
  var classList = "page-item\n    ".concat(active ? 'active' : '', "\n    ").concat(disabled ? 'disabled' : '');
  var onChange = disabled ? undefined : changeHandler;
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("li", {
    className: classList,
    onClick: onChange,
    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("a", {
      className: "page-link",
      href: "#",
      role: typeof val === 'number' ? 'radio' : 'button',
      children: val
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 32,
      columnNumber: 7
    }, _this)
  }, key, false, {
    fileName: _jsxFileName,
    lineNumber: 31,
    columnNumber: 5
  }, _this);
};

var Pagination = function Pagination(props) {
  var _props$total, _props$perPage;

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(undefined),
      _React$useState2 = _slicedToArray(_React$useState, 2),
      specPos = _React$useState2[0],
      setSpecPos = _React$useState2[1];

  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    setSpecPos(undefined);
  }, [props.current]);
  if (!props.current) return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {}, void 0, false);
  var pages = Math.ceil(((_props$total = props.total) !== null && _props$total !== void 0 ? _props$total : 999999) / ((_props$perPage = props.perPage) !== null && _props$perPage !== void 0 ? _props$perPage : 1));
  var pos = specPos || props.current;
  var itemsLeft = props.maxBtns;
  var atFirst = props.current === 1;
  var atLast = props.current === pages;
  var first = createPaginatorItem(1, atFirst, props.disabled, function () {
    var _props$onChange;

    return (_props$onChange = props.onChange) === null || _props$onChange === void 0 ? void 0 : _props$onChange.call(props, 1);
  });
  itemsLeft--;
  var last = createPaginatorItem(pages, atLast, props.disabled, function () {
    var _props$onChange2;

    return (_props$onChange2 = props.onChange) === null || _props$onChange2 === void 0 ? void 0 : _props$onChange2.call(props, pages);
  });
  itemsLeft--;
  var current = !atFirst && !atLast ? createPaginatorItem(pos, pos === props.current, props.disabled, function () {
    var _props$onChange3;

    return (_props$onChange3 = props.onChange) === null || _props$onChange3 === void 0 ? void 0 : _props$onChange3.call(props, pos);
  }) : undefined;
  if (current) itemsLeft--;
  var leftExpand = pos - 1 > itemsLeft / 2 ? createPaginatorItem('...', false, props.disabled, function () {
    return setSpecPos(Math.round(pos / 2));
  }) : undefined;
  var rightExpand = pages - (pos + 1) > itemsLeft / 2 ? createPaginatorItem('...', false, props.disabled, function () {
    return setSpecPos(Math.round((pages - pos) / 2 + pos));
  }) : undefined;
  if (leftExpand) itemsLeft--;
  if (rightExpand) itemsLeft--;
  var leftNeighboursCount = 0;
  var rightNeighboursCount = 0;
  var leftBorderFound = false;
  var rightBorderFound = false;

  while ((!leftBorderFound || !rightBorderFound) && itemsLeft > 0) {
    if (pos + rightNeighboursCount + 1 < pages) {
      rightNeighboursCount++;
      itemsLeft--;
    } else leftBorderFound = true;

    if (!itemsLeft) break;

    if (pos - leftNeighboursCount - 1 > 1) {
      leftNeighboursCount++;
      itemsLeft--;
    } else rightBorderFound = true;
  }

  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("nav", {
    "aria-label": "Page navigation",
    style: {
      display: 'grid',
      width: '100%',
      alignItems: 'center',
      gridTemplateColumns: '1fr auto 1fr'
    },
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {}, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 124,
      columnNumber: 7
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("ul", {
      className: "pagination",
      children: [createPaginatorItem('<', false, props.disabled || atFirst, function () {
        var _props$onChange4;

        return (_props$onChange4 = props.onChange) === null || _props$onChange4 === void 0 ? void 0 : _props$onChange4.call(props, props.current && props.current > 1 ? props.current - 1 : 1);
      }), first, leftExpand, Array(leftNeighboursCount).fill(null).map(function (v, i) {
        var p = pos - leftNeighboursCount + i;
        return createPaginatorItem(p, p === props.current, props.disabled, function () {
          var _props$onChange5;

          return (_props$onChange5 = props.onChange) === null || _props$onChange5 === void 0 ? void 0 : _props$onChange5.call(props, p);
        }, (0,_lib_generators_generators__WEBPACK_IMPORTED_MODULE_1__.genUniqId)());
      }), current, Array(rightNeighboursCount).fill(null).map(function (v, i) {
        var p = pos + 1 + i;
        return createPaginatorItem(p, p === props.current, props.disabled, function () {
          var _props$onChange6;

          return (_props$onChange6 = props.onChange) === null || _props$onChange6 === void 0 ? void 0 : _props$onChange6.call(props, p);
        }, (0,_lib_generators_generators__WEBPACK_IMPORTED_MODULE_1__.genUniqId)());
      }), rightExpand, last, createPaginatorItem('>', false, props.disabled || atLast, function () {
        var _props$onChange7;

        return (_props$onChange7 = props.onChange) === null || _props$onChange7 === void 0 ? void 0 : _props$onChange7.call(props, props.current && props.current < pages ? props.current + 1 : pages);
      })]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 125,
      columnNumber: 7
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)("div", {
      style: {
        width: 'fit-content',
        justifySelf: 'end'
      },
      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(_select_select__WEBPACK_IMPORTED_MODULE_3__.Select, {
        value: "".concat(props.perPage) || _shared_wallheaven_types_pagination__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_WH_PER_PAGE_VALUE,
        ariaLabel: "Set items per page",
        options: Object.keys(_shared_wallheaven_types_pagination__WEBPACK_IMPORTED_MODULE_2__.WHPerPageValues).map(function (v) {
          return {
            value: v,
            text: v
          };
        }),
        onChange: function onChange(v) {
          var _props$onPerPageChang;

          return (_props$onPerPageChang = props.onPerPageChange) === null || _props$onPerPageChang === void 0 ? void 0 : _props$onPerPageChang.call(props, Number.parseInt(v, 10));
        }
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 167,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 166,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 115,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/components/search-bar/search-bar.tsx":
/*!*********************************************************!*\
  !*** ./src/client/components/search-bar/search-bar.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SearchBar": () => (/* binding */ SearchBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _search_bar_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./search-bar.scss */ "./src/client/components/search-bar/search-bar.scss");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/search-bar/search-bar.tsx",
    _this = undefined;





var magnifyingGlass = __webpack_require__(/*! ./search.png */ "./src/client/components/search-bar/search.png");

var SearchBar = function SearchBar(props) {
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("div", {
    className: "".concat(_search_bar_scss__WEBPACK_IMPORTED_MODULE_1__.default.root, " ").concat(props.className || '', " ").concat(props.busy ? _search_bar_scss__WEBPACK_IMPORTED_MODULE_1__.default.root_disabled : ''),
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("img", {
      className: _search_bar_scss__WEBPACK_IMPORTED_MODULE_1__.default["root__magnifying-glass"],
      src: magnifyingGlass["default"]
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 22,
      columnNumber: 7
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("input", {
      className: _search_bar_scss__WEBPACK_IMPORTED_MODULE_1__.default.root__input,
      type: "text",
      value: props.text || '',
      onChange: props.onChange,
      onKeyDown: function onKeyDown(e) {
        var _props$onSubmit;

        if (e.key === 'Enter') (_props$onSubmit = props.onSubmit) === null || _props$onSubmit === void 0 ? void 0 : _props$onSubmit.call(props);
      },
      role: "search"
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 26,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 17,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/components/select/select.tsx":
/*!*************************************************!*\
  !*** ./src/client/components/select/select.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SELECT_DEFAULT_VAL": () => (/* binding */ SELECT_DEFAULT_VAL),
/* harmony export */   "Select": () => (/* binding */ Select)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/select/select.tsx",
    _this = undefined;



var SELECT_DEFAULT_VAL = 'SELECT_DEFAULT_VAL';
var Select = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("select", {
    className: "form-select",
    "aria-label": props.ariaLabel,
    onChange: function onChange(e) {
      var _props$onChange;

      return (_props$onChange = props.onChange) === null || _props$onChange === void 0 ? void 0 : _props$onChange.call(props, e.target.value);
    },
    value: props.value || SELECT_DEFAULT_VAL // data-id={Date.now()}
    ,
    role: "listbox",
    children: [props.options.map(function (o) {
      return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("option", {
        value: o.value,
        children: o.text
      }, o.value, false, {
        fileName: _jsxFileName,
        lineNumber: 30,
        columnNumber: 13
      }, _this);
    }), props.value === undefined ? /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("option", {
      value: SELECT_DEFAULT_VAL,
      children: "Select"
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 36,
      columnNumber: 11
    }, _this) : undefined]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 20,
    columnNumber: 7
  }, _this);
}, function (prev, next) {
  var t = prev.value === next.value;
  return t;
});
Select.displayName = "Memoizied Select";

/***/ }),

/***/ "./src/client/components/skeleton/skeleton.tsx":
/*!*****************************************************!*\
  !*** ./src/client/components/skeleton/skeleton.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Skeleton": () => (/* binding */ Skeleton)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _skeleton_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./skeleton.scss */ "./src/client/components/skeleton/skeleton.scss");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/skeleton/skeleton.tsx",
    _this = undefined;




var Skeleton = function Skeleton() {
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("div", {
    className: _skeleton_scss__WEBPACK_IMPORTED_MODULE_1__.default.root
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 6,
    columnNumber: 10
  }, _this);
};

/***/ }),

/***/ "./src/client/components/spinner-border/spinner-border.tsx":
/*!*****************************************************************!*\
  !*** ./src/client/components/spinner-border/spinner-border.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SpinnerBorder": () => (/* binding */ SpinnerBorder)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/spinner-border/spinner-border.tsx",
    _this = undefined;



var SpinnerBorder = function SpinnerBorder() {
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("div", {
    className: "spinner-border text-light",
    role: "status",
    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("span", {
      className: "visually-hidden",
      children: "Loading..."
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 6,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 5,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/components/spinner-growing/spinner-growing.tsx":
/*!*******************************************************************!*\
  !*** ./src/client/components/spinner-growing/spinner-growing.tsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SpinnerGrowing": () => (/* binding */ SpinnerGrowing)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/spinner-growing/spinner-growing.tsx",
    _this = undefined;



var SpinnerGrowing = function SpinnerGrowing() {
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("div", {
    className: "spinner-grow text-light",
    role: "status",
    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("span", {
      className: "visually-hidden",
      children: "Loading..."
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 6,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 5,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/components/tag-select/tag-select.tsx":
/*!*********************************************************!*\
  !*** ./src/client/components/tag-select/tag-select.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TagSelect": () => (/* binding */ TagSelect)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/tag-select/tag-select.tsx",
    _this = undefined;

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }



var TagSelect = function TagSelect(props) {
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("div", {
    className: "btn-group",
    role: "group",
    "aria-label": props['aria-label'],
    children: props.options.map(function (option) {
      var id = "".concat(props['aria-label'], "_").concat(option.value);
      var checked = props.value.includes(option.value);
      return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("input", {
          type: "checkbox",
          className: "btn-check",
          id: id,
          autoComplete: "off",
          checked: checked,
          onChange: function onChange() {
            var _props$onChange, _props$onChange2;

            return checked ? (_props$onChange = props.onChange) === null || _props$onChange === void 0 ? void 0 : _props$onChange.call(props, props.value.filter(function (v) {
              return v !== option.value;
            })) : (_props$onChange2 = props.onChange) === null || _props$onChange2 === void 0 ? void 0 : _props$onChange2.call(props, [].concat(_toConsumableArray(props.value), [option.value]));
          },
          role: "checkbox"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 23,
          columnNumber: 13
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("label", {
          className: "btn btn-outline-primary",
          htmlFor: id,
          children: option.text
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 38,
          columnNumber: 13
        }, _this)]
      }, option.value, true, {
        fileName: _jsxFileName,
        lineNumber: 22,
        columnNumber: 11
      }, _this);
    })
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 17,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/components/wh-search-box/wh-search-box.tsx":
/*!***************************************************************!*\
  !*** ./src/client/components/wh-search-box/wh-search-box.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WHSearchBox": () => (/* binding */ WHSearchBox)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _search_bar_search_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../search-bar/search-bar */ "./src/client/components/search-bar/search-bar.tsx");
/* harmony import */ var _shared_wallheaven_types_categories__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/wallheaven-types/categories */ "./src/shared/wallheaven-types/categories.ts");
/* harmony import */ var _shared_wallheaven_types_purity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/wallheaven-types/purity */ "./src/shared/wallheaven-types/purity.ts");
/* harmony import */ var _shared_wallheaven_types_sorting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/wallheaven-types/sorting */ "./src/shared/wallheaven-types/sorting.ts");
/* harmony import */ var _wh_search_box_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./wh-search-box.scss */ "./src/client/components/wh-search-box/wh-search-box.scss");
/* harmony import */ var _tag_select_tag_select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tag-select/tag-select */ "./src/client/components/tag-select/tag-select.tsx");
/* harmony import */ var _select_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../select/select */ "./src/client/components/select/select.tsx");
/* harmony import */ var _pagination_pagination__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../pagination/pagination */ "./src/client/components/pagination/pagination.tsx");
/* harmony import */ var _lib_react_components_modals_bootstrap_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../lib/react/components/modals/bootstrap-modal */ "./src/client/lib/react/components/modals/bootstrap-modal.tsx");
/* harmony import */ var _lib_generators_generators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../lib/generators/generators */ "./src/client/lib/generators/generators.ts");
/* harmony import */ var _shared_wallheaven_types_pagination__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/wallheaven-types/pagination */ "./src/shared/wallheaven-types/pagination.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/components/wh-search-box/wh-search-box.tsx",
    _this = undefined;

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }





 // import { openPerPageChangeNotification } from '../../services/open-notification/open-notification';









var WHSearchBox = function WHSearchBox(props) {
  var _props$pagination, _props$pagination2, _props$pagination3;

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),
      _React$useState2 = _slicedToArray(_React$useState, 2),
      perPageError = _React$useState2[0],
      setPerPageError = _React$useState2[1];

  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)("div", {
    className: _wh_search_box_scss__WEBPACK_IMPORTED_MODULE_5__.default.root,
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)(_search_bar_search_bar__WEBPACK_IMPORTED_MODULE_1__.SearchBar, {
      className: _wh_search_box_scss__WEBPACK_IMPORTED_MODULE_5__.default["root__search-bar"],
      text: props.query.q,
      onChange: function onChange(e) {
        return props.onChange(e.target.value, 'q');
      },
      onSubmit: function onSubmit() {
        return props.onSubmit();
      },
      busy: props.busy
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 34,
      columnNumber: 7
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)("div", {
      className: _wh_search_box_scss__WEBPACK_IMPORTED_MODULE_5__.default["root__ctls-box"],
      children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)("div", {
        className: _wh_search_box_scss__WEBPACK_IMPORTED_MODULE_5__.default["root__parameters-box"],
        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)("div", {
          className: _wh_search_box_scss__WEBPACK_IMPORTED_MODULE_5__.default.root__parameter,
          children: ['Categories:', /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)(_tag_select_tag_select__WEBPACK_IMPORTED_MODULE_6__.TagSelect, {
            value: props.query.categories,
            "aria-label": 'Categories checkbox toogle button group',
            options: Object.keys(_shared_wallheaven_types_categories__WEBPACK_IMPORTED_MODULE_2__.WHCategories).map(function (v) {
              return {
                value: v,
                text: v
              };
            }),
            onChange: function onChange(val) {
              return props.onChange(val, 'categories');
            }
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 47,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 45,
          columnNumber: 11
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)("div", {
          className: _wh_search_box_scss__WEBPACK_IMPORTED_MODULE_5__.default.root__parameter,
          children: ['Purity:', /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)(_tag_select_tag_select__WEBPACK_IMPORTED_MODULE_6__.TagSelect, {
            value: props.query.purity,
            "aria-label": 'Purity checkbox toogle button group',
            options: Object.keys(_shared_wallheaven_types_purity__WEBPACK_IMPORTED_MODULE_3__.WHPurities).map(function (v) {
              return {
                value: v,
                text: v
              };
            }),
            onChange: function onChange(val) {
              return props.onChange(val, 'purity');
            }
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 58,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 56,
          columnNumber: 11
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)("label", {
          className: _wh_search_box_scss__WEBPACK_IMPORTED_MODULE_5__.default.root__parameter,
          style: {
            fontSize: 'var(--bs-body-font-size)'
          },
          children: ['Sort by:', /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)(_select_select__WEBPACK_IMPORTED_MODULE_7__.Select, {
            value: props.query.sorting,
            ariaLabel: "Sorting select",
            onChange: function onChange(v) {
              return props.onChange(v, 'sorting');
            },
            options: Object.keys(_shared_wallheaven_types_sorting__WEBPACK_IMPORTED_MODULE_4__.WHSortings).map(function (v) {
              return {
                value: v,
                text: v
              };
            })
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 72,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 67,
          columnNumber: 11
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)("label", {
          className: _wh_search_box_scss__WEBPACK_IMPORTED_MODULE_5__.default.root__parameter,
          style: {
            fontSize: 'var(--bs-body-font-size)'
          },
          children: ['API key (is required to set items per page):', /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)("input", {
            className: "form-control",
            placeholder: "API key",
            value: props.query.apiKey || '',
            onChange: function onChange(v) {
              return props.onChange(v.target.value, 'apiKey');
            }
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 86,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 81,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 44,
        columnNumber: 9
      }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)(_pagination_pagination__WEBPACK_IMPORTED_MODULE_8__.Pagination, {
        disabled: props.busy,
        current: (_props$pagination = props.pagination) === null || _props$pagination === void 0 ? void 0 : _props$pagination.current_page,
        total: (_props$pagination2 = props.pagination) === null || _props$pagination2 === void 0 ? void 0 : _props$pagination2.total,
        perPage: Number.parseInt(((_props$pagination3 = props.pagination) === null || _props$pagination3 === void 0 ? void 0 : _props$pagination3.per_page) || _shared_wallheaven_types_pagination__WEBPACK_IMPORTED_MODULE_11__.DEFAULT_WH_PER_PAGE_VALUE, 10),
        onChange: function onChange(v) {
          return props.onChange(v, 'page');
        },
        onPerPageChange: function onPerPageChange(v) {
          return setPerPageError(true);
        },
        maxBtns: 10
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 94,
        columnNumber: 9
      }, _this), perPageError ? /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxDEV)(_lib_react_components_modals_bootstrap_modal__WEBPACK_IMPORTED_MODULE_9__.BootstrapModal, {
        id: (0,_lib_generators_generators__WEBPACK_IMPORTED_MODULE_10__.genUniqId)(),
        classNameStr: "animate__animated animate__fadeIn",
        ariaLabel: "Settings change error",
        title: "Settings change error",
        body: "Wallhaven API doesn't allow to change items per page! You can do this in your profile settings. DO NOT FORGET TO ENTER YOUR API KEY AFTER THAT!",
        btnText: "Go to settings",
        onClose: function onClose() {
          return setPerPageError(false);
        },
        onOk: function onOk() {
          setPerPageError(false);
          var a = document.createElement('a');
          a.href = 'https://wallhaven.cc/settings/account';
          a.target = '_blank';
          a.referrerPolicy = 'noreferrer';
          a.click();
        }
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 107,
        columnNumber: 11
      }, _this) : undefined]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 43,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 33,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/defs.ts":
/*!****************************!*\
  !*** ./src/client/defs.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WHQuery": () => (/* binding */ WHQuery),
/* harmony export */   "DEFALUT_WHQUERY": () => (/* binding */ DEFALUT_WHQUERY),
/* harmony export */   "API_URL": () => (/* binding */ API_URL)
/* harmony export */ });
/* harmony import */ var _lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/processors/obj-processor */ "./src/client/lib/processors/obj-processor.ts");
/* harmony import */ var _shared_wallheaven_types_categories__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/wallheaven-types/categories */ "./src/shared/wallheaven-types/categories.ts");
/* harmony import */ var _shared_wallheaven_types_purity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/wallheaven-types/purity */ "./src/shared/wallheaven-types/purity.ts");
/* harmony import */ var _shared_wallheaven_types_sorting__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shared/wallheaven-types/sorting */ "./src/shared/wallheaven-types/sorting.ts");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }





var WHQuery = function WHQuery(q, categories, purity, sorting, page, apiKey) {
  _classCallCheck(this, WHQuery);

  this.q = q;
  this.categories = categories;
  this.purity = purity;
  this.sorting = sorting;
  this.page = page;
  this.apiKey = apiKey;
};
var DEFALUT_WHQUERY = _lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_0__.OBJ_PROCESSOR.deepFreeze(new WHQuery('', [_shared_wallheaven_types_categories__WEBPACK_IMPORTED_MODULE_1__.WHCategories.general], [_shared_wallheaven_types_purity__WEBPACK_IMPORTED_MODULE_2__.WHPurities.sfw], _shared_wallheaven_types_sorting__WEBPACK_IMPORTED_MODULE_3__.WHSortings.date_added, 1));
var API_URL = 'http://localhost:9000/proxy';

/***/ }),

/***/ "./src/client/lib/generators/generators.ts":
/*!*************************************************!*\
  !*** ./src/client/lib/generators/generators.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "genUniqId": () => (/* binding */ genUniqId),
/* harmony export */   "getRandomInt": () => (/* binding */ getRandomInt),
/* harmony export */   "getRandomArbitraryInt": () => (/* binding */ getRandomArbitraryInt),
/* harmony export */   "genRandomHexColor": () => (/* binding */ genRandomHexColor),
/* harmony export */   "gen2DArray": () => (/* binding */ gen2DArray)
/* harmony export */ });
var randomFunc = function randomFunc() {
  var _window$crypto;

  return (_window$crypto = window.crypto) !== null && _window$crypto !== void 0 && _window$crypto.getRandomValues ? window.crypto.getRandomValues(new Uint8Array(4)).join('') : Array(8).fill(null).map(function () {
    return (Math.random() * 10).toFixed(0);
  }).join('');
};

function genUniqId() {
  return randomFunc();
}
function getRandomInt(max) {
  return Math.floor(Math.random() * max);
}
function getRandomArbitraryInt(min, max) {
  return Math.floor(Math.random() * (max - min) + min);
}
function genRandomHexColor() {
  var color = "#".concat(Math.floor(Math.random() * 16777215).toString(16));
  if (color.length === 7) return color;
  return genRandomHexColor();
}
function gen2DArray(rows, columns) {
  var x = new Array(rows);

  for (var i = 0; i < rows; i++) {
    x[i] = new Array(columns);
  }

  return x;
}

/***/ }),

/***/ "./src/client/lib/misc/queue-manager.ts":
/*!**********************************************!*\
  !*** ./src/client/lib/misc/queue-manager.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QueueManager": () => (/* binding */ QueueManager)
/* harmony export */ });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var QueueManager = /*#__PURE__*/function () {
  function QueueManager(throttler) {
    var throttlerTimeWindow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;

    _classCallCheck(this, QueueManager);

    _defineProperty(this, "timestamps", []);

    this.throttler = throttler;
    this.throttlerTimeWindow = throttlerTimeWindow;
  }

  _createClass(QueueManager, [{
    key: "do",
    value: function _do(action) {
      var _this = this;

      return new Promise(function (res, rej) {
        var item = {
          action: action,
          res: res,
          rej: rej,
          number: 0
        };

        if (_this.lastQueued) {
          _this.lastQueued.next = item;
          item.number = _this.lastQueued.number + 1;
          _this.lastQueued = item;
        } else {
          _this.lastQueued = item;

          _this.processItem(item);
        }
      });
    }
  }, {
    key: "throttleReq",
    value: function throttleReq() {
      var _this2 = this;

      if (!this.throttler) return Promise.resolve();
      return new Promise(function (res) {
        var last = Date.now();

        _this2.timestamps.push(last);

        var cutoff = last - _this2.throttlerTimeWindow;
        _this2.timestamps = _this2.timestamps.filter(function (t) {
          return t > cutoff;
        });

        _this2.throttler(_this2.timestamps.length, _this2.timestamps[0] || 0).then(function () {
          return res();
        });
      });
    }
  }, {
    key: "processItem",
    value: function processItem(item) {
      var _this3 = this;

      this.throttleReq().then(function () {
        item.action().then(function (result) {
          return item.res(result);
        })["catch"](function (err) {
          return item.rej(err);
        })["finally"](function () {
          if (item.next) _this3.processItem(item.next);else _this3.lastQueued = undefined;
        });
      });
    }
  }]);

  return QueueManager;
}();

/***/ }),

/***/ "./src/client/lib/processors/obj-processor.ts":
/*!****************************************************!*\
  !*** ./src/client/lib/processors/obj-processor.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OBJ_PROCESSOR": () => (/* binding */ OBJ_PROCESSOR)
/* harmony export */ });
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var ObjProcessor = function ObjProcessor() {
  var _this = this;

  _classCallCheck(this, ObjProcessor);

  _defineProperty(this, "deepFreeze", function (obj) {
    if (_typeof(obj) === 'object' && obj !== null) {
      var record = obj;
      Object.keys(record).forEach(function (prop) {
        if (_typeof(record[prop]) === 'object' && !Object.isFrozen(record[prop])) {
          _this.deepFreeze(record[prop]);
        }
      });
      return Object.freeze(obj);
    }

    throw new Error('not object');
  });

  _defineProperty(this, "deepClone", function (target) {
    if (Array.isArray(target)) {
      var clone = [];
      target.forEach(function (v) {
        clone.push(v);
      });
      return clone.map(function (n) {
        return _this.deepClone(n);
      });
    }

    if (_typeof(target) === 'object' && target !== null) {
      if (target instanceof Date) return new Date(target.getTime());
      if (target instanceof HTMLElement) return target.cloneNode(true);
      if (target instanceof Blob) return target.slice();

      var _clone = _objectSpread({}, target);

      Object.keys(_clone).forEach(function (k) {
        _clone[k] = _this.deepClone(_clone[k]);
      });
      Object.setPrototypeOf(_clone, Object.getPrototypeOf(target));
      return _clone;
    }

    return target;
  });

  _defineProperty(this, "deepCloneForWebworker", function (target) {
    if (Array.isArray(target)) {
      var clone = [];
      target.forEach(function (v) {
        clone.push(v);
      });
      return clone.map(function (n) {
        return _this.deepCloneForWebworker(n);
      });
    }

    if (_typeof(target) === 'object' && target !== null) {
      var _clone2 = _objectSpread({}, target);

      Object.keys(_clone2).forEach(function (k) {
        _clone2[k] = _this.deepCloneForWebworker(_clone2[k]);
      }); // Object.setPrototypeOf(clone, Object.getPrototypeOf(target));

      return _clone2;
    }

    return target;
  });
};

var OBJ_PROCESSOR = new ObjProcessor();
OBJ_PROCESSOR.deepFreeze(OBJ_PROCESSOR);


/***/ }),

/***/ "./src/client/lib/react/components/modals/bootstrap-modal.tsx":
/*!********************************************************************!*\
  !*** ./src/client/lib/react/components/modals/bootstrap-modal.tsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BootstrapModal": () => (/* binding */ BootstrapModal)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/lib/react/components/modals/bootstrap-modal.tsx",
    _this = undefined;




var BootstrapModal = function BootstrapModal(props) {
  var target = document.body;
  var anchor = document.createElement('div');
  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    target.append(anchor);
    return function () {
      return anchor.remove();
    };
  }, []);
  return /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal( /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("div", {
    className: "modal fade show ".concat(props.classNameStr || ''),
    id: props.id,
    tabIndex: -1,
    "aria-labelledby": props.ariaLabel,
    style: {
      display: 'block'
    } // onClick={() => props.onClose()}
    ,
    onClick: function onClick() {
      return props.onClose();
    } // aria-hidden="true"
    ,
    role: "dialog",
    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("div", {
      className: "modal-dialog",
      onClick: function onClick(e) {
        return e.stopPropagation();
      },
      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("div", {
        className: "modal-content",
        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("div", {
          className: "modal-header",
          children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("h5", {
            className: "modal-title",
            children: props.title
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 41,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("button", {
            type: "button",
            className: "btn-close",
            "data-bs-dismiss": "modal",
            "aria-label": "Close",
            onClick: function onClick() {
              return props.onClose();
            },
            role: "button"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 42,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 40,
          columnNumber: 11
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("div", {
          className: "modal-body",
          children: props.body
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 51,
          columnNumber: 11
        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("div", {
          className: "modal-footer",
          children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("button", {
            type: "button",
            className: "btn btn-secondary",
            "data-bs-dismiss": "modal",
            onClick: function onClick() {
              return props.onClose();
            },
            role: "button",
            children: "Close"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 53,
            columnNumber: 13
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)("button", {
            type: "button",
            className: "btn btn-primary",
            onClick: function onClick() {
              return props.onOk();
            },
            role: "button",
            children: props.btnText
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 62,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 52,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 39,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 38,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 27,
    columnNumber: 5
  }, _this), anchor);
};

/***/ }),

/***/ "./src/client/lib/react/components/tables/bs-obj-table.tsx":
/*!*****************************************************************!*\
  !*** ./src/client/lib/react/components/tables/bs-obj-table.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BsObjTable": () => (/* binding */ BsObjTable)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/lib/react/components/tables/bs-obj-table.tsx",
    _this = undefined;

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



var BsObjTable = function BsObjTable(props) {
  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("table", {
    className: "table",
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("thead", {
      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("tr", {
        children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("th", {
          colSpan: 9999,
          children: props.header
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 15,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 14,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 13,
      columnNumber: 7
    }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("tbody", {
      children: Object.entries(props.obj).map(function (entry) {
        var _entry = _slicedToArray(entry, 2),
            key = _entry[0],
            val = _entry[1];

        if (_typeof(val) === 'object' && val !== null) {
          var newProps = {
            obj: val,
            header: key
          };
          return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("tr", {
            children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("td", {
              colSpan: 9999,
              children: BsObjTable(newProps)
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 29,
              columnNumber: 17
            }, _this)
          }, key, false, {
            fileName: _jsxFileName,
            lineNumber: 28,
            columnNumber: 15
          }, _this);
        }

        return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("tr", {
          children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("th", {
            scope: "col",
            children: key
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 35,
            columnNumber: 15
          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)("th", {
            scope: "col",
            children: val
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 36,
            columnNumber: 15
          }, _this)]
        }, key, true, {
          fileName: _jsxFileName,
          lineNumber: 34,
          columnNumber: 13
        }, _this);
      })
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 18,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 12,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/client/services/img-fetcher/img-fetcher.ts":
/*!********************************************************!*\
  !*** ./src/client/services/img-fetcher/img-fetcher.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ImgFetcher": () => (/* binding */ ImgFetcher)
/* harmony export */ });
/* harmony import */ var _lib_misc_queue_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/misc/queue-manager */ "./src/client/lib/misc/queue-manager.ts");
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


var ImgFetcher = function ImgFetcher(REQ_PER_WINDOW, WINDOW) {
  var _this = this;

  _classCallCheck(this, ImgFetcher);

  _defineProperty(this, "IMG_LOAD_QUEUE_MANAGER", new _lib_misc_queue_manager__WEBPACK_IMPORTED_MODULE_0__.QueueManager( /*#__PURE__*/function () {
    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(reqPerWindow, firstTimeInWindow) {
      var throttleTime;
      return regeneratorRuntime.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              throttleTime = reqPerWindow >= _this.REQ_PER_WINDOW ? _this.WINDOW - (Date.now() - firstTimeInWindow) : 0;
              _context.next = 3;
              return new Promise(function (res) {
                return setTimeout(res, throttleTime);
              });

            case 3:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function (_x, _x2) {
      return _ref.apply(this, arguments);
    };
  }(), this.WINDOW));

  _defineProperty(this, "loadImg", function (src) {
    var action = /*#__PURE__*/function () {
      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                if (src) {
                  _context2.next = 2;
                  break;
                }

                return _context2.abrupt("return", false);

              case 2:
                return _context2.abrupt("return", new Promise(function (res) {
                  var img = new Image();

                  img.onload = function () {
                    return res(true);
                  };

                  img.onerror = function () {
                    return res(false);
                  }; // setTimeout(() => {


                  // setTimeout(() => {
                  img.referrerPolicy = 'no-referrer'; // !

                  // !
                  console.log(src);
                  img.src = src; // }, 10000);
                }));

              case 3:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2);
      }));

      return function action() {
        return _ref2.apply(this, arguments);
      };
    }();

    return _this.IMG_LOAD_QUEUE_MANAGER["do"](action);
  });

  this.REQ_PER_WINDOW = REQ_PER_WINDOW;
  this.WINDOW = WINDOW;
};

/***/ }),

/***/ "./src/client/services/open-notification/open-notification.tsx":
/*!*********************************************************************!*\
  !*** ./src/client/services/open-notification/open-notification.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "openNSFWNotification": () => (/* binding */ openNSFWNotification)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lib_generators_generators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/generators/generators */ "./src/client/lib/generators/generators.ts");
/* harmony import */ var _lib_react_components_modals_bootstrap_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/react/components/modals/bootstrap-modal */ "./src/client/lib/react/components/modals/bootstrap-modal.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/client/services/open-notification/open-notification.tsx",
    _this = undefined;







var openNSFWNotification = function openNSFWNotification() {
  var div = document.createElement('div'); // document.body.append(div);

  var _onClose = function onClose() {
    react_dom__WEBPACK_IMPORTED_MODULE_1__.render( /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {}, void 0, false), div);
    div.remove();
  };

  var elem = /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(_lib_react_components_modals_bootstrap_modal__WEBPACK_IMPORTED_MODULE_3__.BootstrapModal, {
    classNameStr: "animate__animated animate__fadeIn",
    id: (0,_lib_generators_generators__WEBPACK_IMPORTED_MODULE_2__.genUniqId)(),
    ariaLabel: "Settings change error",
    title: "Settings change error",
    body: "Wallhaven requires API key for NSFW content! Copy your API key and enter it first! DO NOT FORGET TO ALLOW NSFW IN RESULTS IN ACCOUNT SETTINGS!",
    btnText: "Go to settings",
    onClose: function onClose() {
      return _onClose();
    },
    onOk: function onOk() {
      _onClose();

      var a = document.createElement('a');
      a.href = 'https://wallhaven.cc/settings/account';
      a.target = '_blank';
      a.referrerPolicy = 'noreferrer';
      a.click();
    }
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 16,
    columnNumber: 5
  }, _this);

  react_dom__WEBPACK_IMPORTED_MODULE_1__.render(elem, div);
};

/***/ }),

/***/ "./src/client/services/wh-api/wh-client-api.ts":
/*!*****************************************************!*\
  !*** ./src/client/services/wh-api/wh-client-api.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "calcWHQueryStr": () => (/* binding */ calcWHQueryStr),
/* harmony export */   "modQuery": () => (/* binding */ modQuery),
/* harmony export */   "getWHSearch": () => (/* binding */ getWHSearch)
/* harmony export */ });
/* harmony import */ var _defs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../defs */ "./src/client/defs.ts");
/* harmony import */ var _lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/processors/obj-processor */ "./src/client/lib/processors/obj-processor.ts");
/* harmony import */ var _open_notification_open_notification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../open-notification/open-notification */ "./src/client/services/open-notification/open-notification.tsx");
/* harmony import */ var _shared_proxy_def__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/proxy.def */ "./src/shared/proxy.def.ts");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var calcCategoryQuery = function calcCategoryQuery(query) {
  var general = query.categories.includes('general') ? 1 : 0;
  var anime = query.categories.includes('anime') ? 1 : 0;
  var people = query.categories.includes('people') ? 1 : 0;
  return "".concat(general).concat(anime).concat(people);
};

var calcPurityQuery = function calcPurityQuery(query) {
  var sfw = query.purity.includes('sfw') ? 1 : 0;
  var sketchy = query.purity.includes('sketchy') ? 1 : 0;
  var nsfw = query.purity.includes('nsfw') ? 1 : 0;
  return "".concat(sfw).concat(sketchy).concat(nsfw);
};

var calcWHQueryStr = function calcWHQueryStr(query) {
  var q = query.q;
  var categories = calcCategoryQuery(query);
  var purity = calcPurityQuery(query);
  var filtersStr = "&categories=".concat(categories, "&purity=").concat(purity);
  var apiKeyStr = query.apiKey ? "&apikey=".concat(query.apiKey) : '';
  var pageStr = "&page=".concat(query.page);
  return "search?q=".concat(q).concat(filtersStr, "&sorting=").concat(query.sorting).concat(pageStr).concat(apiKeyStr);
};
var modQuery = function modQuery(query, key, val) {
  var newQuery = _lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_1__.OBJ_PROCESSOR.deepClone(query);
  if (key === 'q') newQuery[key] = val;else if (key === 'categories') newQuery[key] = val;else if (key === 'purity') {
    if (val.includes('nsfw') && (!query.apiKey || query.apiKey === '')) {
      (0,_open_notification_open_notification__WEBPACK_IMPORTED_MODULE_2__.openNSFWNotification)();
    } else newQuery[key] = val;
  } else if (key === 'sorting') newQuery[key] = val;else if (key === 'page') {
    var _int = Number.parseInt("".concat(val), 10);

    if (!Number.isNaN(_int)) newQuery[key] = _int;
  } else if (key === 'apiKey') {
    newQuery[key] = val;
    if (val === '' && query.purity.includes('nsfw')) newQuery.purity = query.purity.filter(function (item) {
      return item !== 'nsfw';
    });
  }
  return newQuery;
};
var HTTP_REQ_INIT =  false ? 0 : undefined;
var getWHSearch = function getWHSearch(query) {
  return new Promise(function (res, rej) {
    var fetchStr = calcWHQueryStr(query);
    fetch(_defs__WEBPACK_IMPORTED_MODULE_0__.API_URL, _objectSpread(_objectSpread({}, HTTP_REQ_INIT), {}, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        code: _shared_proxy_def__WEBPACK_IMPORTED_MODULE_3__.ProxyReqCodes.WHSearch,
        fetchStr: fetchStr
      })
    })).then(function (response) {
      if (response.ok) return response.json();
      throw new Error('x');
    }).then(function (json) {
      var obj = json;
      var dataObj = {};
      obj.data.forEach(function (it) {
        dataObj[it.id] = it;
      });
      var pagination = {
        current_page: obj.meta.current_page,
        last_page: obj.meta.last_page,
        total: obj.meta.total,
        per_page: obj.meta.per_page
      };
      res([dataObj, pagination]);
    })["catch"](function (e) {
      return rej(e);
    });
  });
};

/***/ }),

/***/ "./src/client/store/actions/core/setApiKey.ts":
/*!****************************************************!*\
  !*** ./src/client/store/actions/core/setApiKey.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setApiKey": () => (/* binding */ setApiKey)
/* harmony export */ });
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions.d */ "./src/client/store/actions/actions.d.ts");
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_actions_d__WEBPACK_IMPORTED_MODULE_0__);

var setApiKey = function setApiKey(apiKey) {
  return {
    type: _actions_d__WEBPACK_IMPORTED_MODULE_0__.Actions.CORE_SET_API_KEY,
    payload: apiKey
  };
};

/***/ }),

/***/ "./src/client/store/actions/details-page/fetchById.ts":
/*!************************************************************!*\
  !*** ./src/client/store/actions/details-page/fetchById.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchById": () => (/* binding */ fetchById)
/* harmony export */ });
/* harmony import */ var _defs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../defs */ "./src/client/defs.ts");
/* harmony import */ var _setData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./setData */ "./src/client/store/actions/details-page/setData.ts");
/* harmony import */ var _setFlag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./setFlag */ "./src/client/store/actions/details-page/setFlag.ts");
/* harmony import */ var _shared_proxy_def__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/proxy.def */ "./src/shared/proxy.def.ts");




var fetchById = function fetchById(id) {
  return function (dispatch, getState) {
    var _getState$coreState = getState().coreState,
        apiKey = _getState$coreState.apiKey,
        imgFetcher = _getState$coreState.imgFetcher;
    fetch(_defs__WEBPACK_IMPORTED_MODULE_0__.API_URL, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        code: _shared_proxy_def__WEBPACK_IMPORTED_MODULE_3__.ProxyReqCodes.WHWpInfo,
        id: id,
        apiKey: apiKey
      })
    }).then(function (response) {
      if (response.ok) return response.json();
      throw new Error('');
    }).then(function (json) {
      var data = json.data;
      dispatch((0,_setData__WEBPACK_IMPORTED_MODULE_1__.setData)(data));
      console.log(data);
      imgFetcher.loadImg(data.path).then(function (result) {
        console.log(result); // setTimeout(() => {

        dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('imgPreloaded', result)); // }, 2000);
      });
      dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('dataLoaded', true));
    })["catch"](function (err) {
      console.log(err);
      dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('dataLoaded', false));
    });
  };
};

/***/ }),

/***/ "./src/client/store/actions/details-page/reset.ts":
/*!********************************************************!*\
  !*** ./src/client/store/actions/details-page/reset.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "resetDetailsPageState": () => (/* binding */ resetDetailsPageState)
/* harmony export */ });
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions.d */ "./src/client/store/actions/actions.d.ts");
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_actions_d__WEBPACK_IMPORTED_MODULE_0__);

var resetDetailsPageState = function resetDetailsPageState() {
  return {
    type: _actions_d__WEBPACK_IMPORTED_MODULE_0__.Actions.DETAILS_PAGE_RESET
  };
};

/***/ }),

/***/ "./src/client/store/actions/details-page/setData.ts":
/*!**********************************************************!*\
  !*** ./src/client/store/actions/details-page/setData.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setData": () => (/* binding */ setData)
/* harmony export */ });
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions.d */ "./src/client/store/actions/actions.d.ts");
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_actions_d__WEBPACK_IMPORTED_MODULE_0__);

var setData = function setData(data) {
  return {
    type: _actions_d__WEBPACK_IMPORTED_MODULE_0__.Actions.DETAILS_PAGE_SET_DATA,
    payload: data
  };
};

/***/ }),

/***/ "./src/client/store/actions/details-page/setFlag.ts":
/*!**********************************************************!*\
  !*** ./src/client/store/actions/details-page/setFlag.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setFlag": () => (/* binding */ setFlag)
/* harmony export */ });
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions.d */ "./src/client/store/actions/actions.d.ts");
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_actions_d__WEBPACK_IMPORTED_MODULE_0__);

var setFlag = function setFlag(key, val) {
  return {
    type: _actions_d__WEBPACK_IMPORTED_MODULE_0__.Actions.DETAILS_PAGE_SET_FLAG,
    payload: {
      key: key,
      val: val
    }
  };
};

/***/ }),

/***/ "./src/client/store/actions/gallery/fetch.ts":
/*!***************************************************!*\
  !*** ./src/client/store/actions/gallery/fetch.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FetchSearch": () => (/* binding */ FetchSearch)
/* harmony export */ });
/* harmony import */ var _services_wh_api_wh_client_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../services/wh-api/wh-client-api */ "./src/client/services/wh-api/wh-client-api.ts");
/* harmony import */ var _setData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./setData */ "./src/client/store/actions/gallery/setData.ts");
/* harmony import */ var _setFlag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./setFlag */ "./src/client/store/actions/gallery/setFlag.ts");
/* harmony import */ var _setPagination__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./setPagination */ "./src/client/store/actions/gallery/setPagination.ts");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }




 // const loadDataFunc: (
//   query: WHQuery,
// ) => Promise<[Record<string, WHSearchDataItem>, WHPaginationData]> =
//   // loadFakeData;
//   process.env.NODE_ENV === 'test' ? loadFakeData : loadDataFromWH;

var setTestLoadResultFunc =  false ? 0 : function (result) {
  return result;
};

var loadData = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(query, loadImgFunc) {
    var _yield$getWHSearch, _yield$getWHSearch2, data, pagination, loads;

    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return (0,_services_wh_api_wh_client_api__WEBPACK_IMPORTED_MODULE_0__.getWHSearch)(query);

          case 2:
            _yield$getWHSearch = _context.sent;
            _yield$getWHSearch2 = _slicedToArray(_yield$getWHSearch, 2);
            data = _yield$getWHSearch2[0];
            pagination = _yield$getWHSearch2[1];
            loads = Object.entries(data).map(function (entry) {
              return new Promise(function (res) {
                if (!entry[1].thumbs.small) res([entry[1].id, setTestLoadResultFunc(false)]);else {
                  loadImgFunc(entry[1].thumbs.small).then(function (result) {
                    res([entry[1].id, setTestLoadResultFunc(result)]);
                  });
                }
              });
            });
            return _context.abrupt("return", {
              data: data,
              loads: loads,
              pagination: pagination
            });

          case 8:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function loadData(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

var FetchSearch = function FetchSearch(more, specQuery) {
  return function (dispatch, getState) {
    var state = getState();
    var loadImg = state.coreState.imgFetcher.loadImg;
    var flags = state.galleryState.flags;
    var query = specQuery || state.galleryState.query;
    if (flags.fetching || more && flags.end) return;
    dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('error', false));
    dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('fetching', true));
    dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('searchPerformed', true));

    if (!more) {
      dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('end', false));
      dispatch((0,_setData__WEBPACK_IMPORTED_MODULE_1__.setData)({}));
    } else query.page++;

    loadData(query, loadImg).then( /*#__PURE__*/function () {
      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(response) {
        var newDataMap;
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                newDataMap = more ? _objectSpread(_objectSpread({}, state.galleryState.dataMap), response.data) : response.data;
                dispatch((0,_setData__WEBPACK_IMPORTED_MODULE_1__.setData)(newDataMap));
                dispatch((0,_setPagination__WEBPACK_IMPORTED_MODULE_3__.setPagination)(response.pagination));
                dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('fetching', false));

                if (response.loads.length === 0 || response.pagination.last_page === response.pagination.current_page) {
                  dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('end', true));
                }

                response.loads.forEach(function (load) {
                  load.then(function (result) {
                    var _result = _slicedToArray(result, 2),
                        id = _result[0],
                        loadSuccess = _result[1];

                    var currState = getState().galleryState;

                    if (currState.dataMap[id]) {
                      currState.dataMap[id].loadSuccess = loadSuccess;
                      dispatch((0,_setData__WEBPACK_IMPORTED_MODULE_1__.setData)(currState.dataMap));
                    }
                  });
                });

              case 6:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2);
      }));

      return function (_x3) {
        return _ref2.apply(this, arguments);
      };
    }())["catch"](function () {
      dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('fetching', false));
      dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('end', true));
      dispatch((0,_setFlag__WEBPACK_IMPORTED_MODULE_2__.setFlag)('error', true));
    });
  };
};

/***/ }),

/***/ "./src/client/store/actions/gallery/setContentScrollTop.ts":
/*!*****************************************************************!*\
  !*** ./src/client/store/actions/gallery/setContentScrollTop.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setContentScrollTop": () => (/* binding */ setContentScrollTop)
/* harmony export */ });
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions.d */ "./src/client/store/actions/actions.d.ts");
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_actions_d__WEBPACK_IMPORTED_MODULE_0__);

var setContentScrollTop = function setContentScrollTop(val) {
  return {
    type: _actions_d__WEBPACK_IMPORTED_MODULE_0__.Actions.GALLERY_SET_CONTENT_SCROLL_TOP,
    payload: val
  };
};

/***/ }),

/***/ "./src/client/store/actions/gallery/setData.ts":
/*!*****************************************************!*\
  !*** ./src/client/store/actions/gallery/setData.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setData": () => (/* binding */ setData)
/* harmony export */ });
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions.d */ "./src/client/store/actions/actions.d.ts");
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_actions_d__WEBPACK_IMPORTED_MODULE_0__);

var setData = function setData(data) {
  return {
    type: _actions_d__WEBPACK_IMPORTED_MODULE_0__.Actions.GALLERY_SET_DATA,
    payload: data
  };
};

/***/ }),

/***/ "./src/client/store/actions/gallery/setFlag.ts":
/*!*****************************************************!*\
  !*** ./src/client/store/actions/gallery/setFlag.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setFlag": () => (/* binding */ setFlag)
/* harmony export */ });
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions.d */ "./src/client/store/actions/actions.d.ts");
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_actions_d__WEBPACK_IMPORTED_MODULE_0__);

var setFlag = function setFlag(key, val) {
  return {
    type: _actions_d__WEBPACK_IMPORTED_MODULE_0__.Actions.GALLERY_SET_FLAG,
    payload: {
      key: key,
      val: val
    }
  };
};

/***/ }),

/***/ "./src/client/store/actions/gallery/setPagination.ts":
/*!***********************************************************!*\
  !*** ./src/client/store/actions/gallery/setPagination.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setPagination": () => (/* binding */ setPagination)
/* harmony export */ });
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions.d */ "./src/client/store/actions/actions.d.ts");
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_actions_d__WEBPACK_IMPORTED_MODULE_0__);

var setPagination = function setPagination(data) {
  return {
    type: _actions_d__WEBPACK_IMPORTED_MODULE_0__.Actions.GALLERY_SET_PAGINATION,
    payload: data
  };
};

/***/ }),

/***/ "./src/client/store/actions/gallery/setQuery.ts":
/*!******************************************************!*\
  !*** ./src/client/store/actions/gallery/setQuery.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setQuery": () => (/* binding */ setQuery)
/* harmony export */ });
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions.d */ "./src/client/store/actions/actions.d.ts");
/* harmony import */ var _actions_d__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_actions_d__WEBPACK_IMPORTED_MODULE_0__);

var setQuery = function setQuery(query) {
  return {
    type: _actions_d__WEBPACK_IMPORTED_MODULE_0__.Actions.GALLERY_SET_QUERY,
    payload: query
  };
};

/***/ }),

/***/ "./src/client/store/initials/coreState.ts":
/*!************************************************!*\
  !*** ./src/client/store/initials/coreState.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CORE_INITIAL_STATE": () => (/* binding */ CORE_INITIAL_STATE)
/* harmony export */ });
/* harmony import */ var _services_img_fetcher_img_fetcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../services/img-fetcher/img-fetcher */ "./src/client/services/img-fetcher/img-fetcher.ts");

var WALLHAVEN_WINDOW = 60000;
var WALLHAVEN_REQ_PER_WINDOW = 700; // ! in fact 45 req per min for API, for images I don't know...

var CORE_INITIAL_STATE = {
  apiKey: undefined,
  imgFetcher: new _services_img_fetcher_img_fetcher__WEBPACK_IMPORTED_MODULE_0__.ImgFetcher(WALLHAVEN_REQ_PER_WINDOW, WALLHAVEN_WINDOW)
};

/***/ }),

/***/ "./src/client/store/initials/detailsPageFlag.ts":
/*!******************************************************!*\
  !*** ./src/client/store/initials/detailsPageFlag.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DETAILS_PAGE_INIT_STATE": () => (/* binding */ DETAILS_PAGE_INIT_STATE)
/* harmony export */ });
var DETAILS_PAGE_INIT_STATE = {
  data: undefined,
  flags: {
    dataLoaded: undefined,
    imgPreloaded: undefined
  }
};

/***/ }),

/***/ "./src/client/store/initials/galleryState.ts":
/*!***************************************************!*\
  !*** ./src/client/store/initials/galleryState.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GALLERY_INITIAL_STATE": () => (/* binding */ GALLERY_INITIAL_STATE)
/* harmony export */ });
/* harmony import */ var _defs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../defs */ "./src/client/defs.ts");

var GALLERY_INITIAL_STATE = {
  query: _defs__WEBPACK_IMPORTED_MODULE_0__.DEFALUT_WHQUERY,
  dataMap: {},
  paginationData: undefined,
  contentScrollTop: 0,
  flags: {
    fetching: false,
    error: false,
    searchPerformed: false,
    end: true
  }
};

/***/ }),

/***/ "./src/server/wh-server-api.ts":
/*!*************************************!*\
  !*** ./src/server/wh-server-api.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getWHWallpaer": () => (/* binding */ getWHWallpaer),
/* harmony export */   "getWHWallpaperFake": () => (/* binding */ getWHWallpaperFake),
/* harmony export */   "getWHSearch": () => (/* binding */ getWHSearch),
/* harmony export */   "getWHSearchFake": () => (/* binding */ getWHSearchFake)
/* harmony export */ });
/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node-fetch */ "node-fetch");
/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_fetch__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shared_wallheaven_types_pagination__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/wallheaven-types/pagination */ "./src/shared/wallheaven-types/pagination.ts");
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var WH_API_BASE_STR = 'https://wallhaven.cc/api/v1/';
/* --- GET ONE WALLPAPER --- */

var getWHWallpaer = function getWHWallpaer(req) {
  return new Promise(function (res, rej) {
    node_fetch__WEBPACK_IMPORTED_MODULE_0___default()("".concat(WH_API_BASE_STR, "w/").concat(req.id).concat(req.apiKey ? "?".concat(req.apiKey) : '')).then(function (response) {
      if (response.status !== 200) throw new Error(response.statusText);else return response.json();
    }).then(function (json) {
      return res(json.data);
    })["catch"](function (err) {
      return rej(err);
    });
  });
};
/* --- FAKE --- */

var fakeImgSrc = '/public/test-image.jpg';
var getWHWallpaperFake = function getWHWallpaperFake() {
  return new Promise(function (res) {
    var fake = {
      id: '94x38z',
      url: 'https://wallhaven.cc/w/94x38z',
      short_url: 'http://whvn.cc/94x38z',
      uploader: {
        username: 'test-user',
        group: 'User',
        avatar: {
          '200px': 'https://wallhaven.cc/images/user/avatar/200/11_3339efb2a813.png',
          '128px': 'https://wallhaven.cc/images/user/avatar/128/11_3339efb2a813.png',
          '32px': 'https://wallhaven.cc/images/user/avatar/32/11_3339efb2a813.png',
          '20px': 'https://wallhaven.cc/images/user/avatar/20/11_3339efb2a813.png'
        }
      },
      views: 12,
      favorites: 0,
      source: '',
      purity: 'sfw',
      category: 'anime',
      dimension_x: 6742,
      dimension_y: 3534,
      resolution: '6742x3534',
      ratio: '1.91',
      file_size: 5070446,
      file_type: 'image/jpeg',
      created_at: '2018-10-31 01:23:10',
      colors: ['#000000', '#abbcda', '#424153', '#66cccc', '#333399'],
      path: 'https://w.wallhaven.cc/full/94/wallhaven-94x38z.jpg',
      thumbs: {
        large: 'https://th.wallhaven.cc/lg/94/94x38z.jpg',
        original: 'https://th.wallhaven.cc/orig/94/94x38z.jpg',
        small: 'https://th.wallhaven.cc/small/94/94x38z.jpg'
      },
      tags: [{
        id: 1,
        name: 'anime',
        alias: 'Chinese cartoons',
        category_id: 1,
        category: 'Anime & Manga',
        purity: 'sfw',
        created_at: '2015-01-16 02:06:45'
      }]
    }; // throw new Error('');
    // setTimeout(() => {

    res(_objectSpread(_objectSpread({}, fake), {}, {
      path: fakeImgSrc
    })); // }, 5000);
  });
};
/* ---/// FAKE --- */

/* --- /// GET ONE WALLPAPER --- */

/* --- GET WH SEARCH RESULT --- */

var getWHSearch = function getWHSearch(req) {
  return new Promise(function (res, rej) {
    node_fetch__WEBPACK_IMPORTED_MODULE_0___default()("".concat(WH_API_BASE_STR).concat(req.fetchStr)).then(function (response) {
      if (response.status !== 200) throw new Error(response.statusText);else return response.json();
    }).then(function (json) {
      return res(json);
    })["catch"](function (err) {
      return rej(err);
    });
  });
};
/* --- FAKE --- */

var FAKE_PREVIEW_SRC = '/public/test-preview.jpg';
var FAKE_ITEMS_COUNT = 24;

var genFakeData = function genFakeData(page) {
  var fakeData = Array(FAKE_ITEMS_COUNT).fill(null).map(function () {
    return {
      id: Math.random() * 1000,
      // ! Create true node random with crypto!
      thumbs: {
        small: FAKE_PREVIEW_SRC
      },
      path: FAKE_PREVIEW_SRC,
      loadSuccess: undefined
    };
  });
  var fakeMeta = {
    current_page: page,
    total: FAKE_ITEMS_COUNT * 100,
    last_page: 100,
    per_page: _shared_wallheaven_types_pagination__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_WH_PER_PAGE_VALUE
  };
  return {
    data: fakeData,
    meta: fakeMeta
  };
};

var getWHSearchFake = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req) {
    var url, page, fakeResponse;
    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            url = new URLSearchParams(req.fetchStr);

            if (!(url.get('q') === 'ERROR')) {
              _context.next = 3;
              break;
            }

            throw new Error();

          case 3:
            page = url.get('page');
            fakeResponse = genFakeData(page ? +page : 1);
            return _context.abrupt("return", fakeResponse);

          case 6:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function getWHSearchFake(_x) {
    return _ref.apply(this, arguments);
  };
}();
/* ---/// FAKE --- */

/* ---/// GET WH SEARCH RESULT --- */

/***/ }),

/***/ "./src/shared/proxy.def.ts":
/*!*********************************!*\
  !*** ./src/shared/proxy.def.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProxyReqCodes": () => (/* binding */ ProxyReqCodes)
/* harmony export */ });
var ProxyReqCodes;

(function (ProxyReqCodes) {
  ProxyReqCodes[ProxyReqCodes["WHSearch"] = 0] = "WHSearch";
  ProxyReqCodes[ProxyReqCodes["WHWpInfo"] = 1] = "WHWpInfo";
})(ProxyReqCodes || (ProxyReqCodes = {}));

/***/ }),

/***/ "./src/shared/wallheaven-types/categories.ts":
/*!***************************************************!*\
  !*** ./src/shared/wallheaven-types/categories.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WHCategories": () => (/* binding */ WHCategories)
/* harmony export */ });
/* harmony import */ var _client_lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../client/lib/processors/obj-processor */ "./src/client/lib/processors/obj-processor.ts");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var WHCategoriesClass = function WHCategoriesClass() {
  _classCallCheck(this, WHCategoriesClass);

  _defineProperty(this, 'general', 'general');

  _defineProperty(this, 'anime', 'anime');

  _defineProperty(this, 'people', 'people');
};

var WHCategories = _client_lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_0__.OBJ_PROCESSOR.deepFreeze(new WHCategoriesClass());

/***/ }),

/***/ "./src/shared/wallheaven-types/pagination.ts":
/*!***************************************************!*\
  !*** ./src/shared/wallheaven-types/pagination.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WHPerPageValues": () => (/* binding */ WHPerPageValues),
/* harmony export */   "DEFAULT_WH_PER_PAGE_VALUE": () => (/* binding */ DEFAULT_WH_PER_PAGE_VALUE)
/* harmony export */ });
/* harmony import */ var _client_lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../client/lib/processors/obj-processor */ "./src/client/lib/processors/obj-processor.ts");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var WHPerPageValuesClass = function WHPerPageValuesClass() {
  _classCallCheck(this, WHPerPageValuesClass);

  _defineProperty(this, '24', '24');

  _defineProperty(this, '32', '32');

  _defineProperty(this, '64', '64');
};

var WHPerPageValues = _client_lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_0__.OBJ_PROCESSOR.deepFreeze(new WHPerPageValuesClass());
var DEFAULT_WH_PER_PAGE_VALUE = '24';

/***/ }),

/***/ "./src/shared/wallheaven-types/purity.ts":
/*!***********************************************!*\
  !*** ./src/shared/wallheaven-types/purity.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WHPurities": () => (/* binding */ WHPurities)
/* harmony export */ });
/* harmony import */ var _client_lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../client/lib/processors/obj-processor */ "./src/client/lib/processors/obj-processor.ts");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var WHPurityClass = function WHPurityClass() {
  _classCallCheck(this, WHPurityClass);

  _defineProperty(this, 'sfw', 'sfw');

  _defineProperty(this, 'sketchy', 'sketchy');

  _defineProperty(this, 'nsfw', 'nsfw');
};

var WHPurities = _client_lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_0__.OBJ_PROCESSOR.deepFreeze(new WHPurityClass());

/***/ }),

/***/ "./src/shared/wallheaven-types/sorting.ts":
/*!************************************************!*\
  !*** ./src/shared/wallheaven-types/sorting.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WHSortings": () => (/* binding */ WHSortings)
/* harmony export */ });
/* harmony import */ var _client_lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../client/lib/processors/obj-processor */ "./src/client/lib/processors/obj-processor.ts");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var WHSortingClass = function WHSortingClass() {
  _classCallCheck(this, WHSortingClass);

  _defineProperty(this, 'date_added', 'date_added');

  _defineProperty(this, 'relevance', 'relevance');

  _defineProperty(this, 'random', ' random');

  _defineProperty(this, 'views', ' views');

  _defineProperty(this, 'favorites', 'favorites');

  _defineProperty(this, 'toplist', 'toplist');
};

var WHSortings = _client_lib_processors_obj_processor__WEBPACK_IMPORTED_MODULE_0__.OBJ_PROCESSOR.deepFreeze(new WHSortingClass());

/***/ }),

/***/ "./src/client/components/search-bar/search.png":
/*!*****************************************************!*\
  !*** ./src/client/components/search-bar/search.png ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "assets/img/527a47952219a8b48cb8f8965516ec60.png");

/***/ }),

/***/ "./src/client/components/about/about.scss":
/*!************************************************!*\
  !*** ./src/client/components/about/about.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"MKu2YWXstrQJ1Z3-dKL12","root__article":"_3vUfVlSwXwWoTOSNe9YGht"});

/***/ }),

/***/ "./src/client/components/app/app.scss":
/*!********************************************!*\
  !*** ./src/client/components/app/app.scss ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"app":"_20nxk27raIoQOMCaRqzCMI","route":"hPVezq9jv-2RfgmAvohDm","route_enter":"_1XJfMn_82ysnUdovTymyQ","route_enter-active":"_1Kg3rK0PBZc56Lq-tD6YRo","route_exit":"_3zQSOu0GtMHwzUmLb_mk5i","route_exit-active":"ECmgixBmO0TAH4lQzAetf"});

/***/ }),

/***/ "./src/client/components/content-box/content-box.scss":
/*!************************************************************!*\
  !*** ./src/client/components/content-box/content-box.scss ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"hpADCA_u6ByhFe3eUE4np","root__cards":"sTplLDxN8N8RSiX-Hm5No","root__spinner-box":"_3PLYaeN9ff0CajZ8RvGx3N","content-item_plug":"_2eAVE3-Vj7Ha40M_L7PRD_","fade-in":"_2TBUHHAVOWIaiQ8wnWEsiZ","content-item_Image":"_30XHoCw1lsxYi7WsCBLsba","content-item__wrapper":"_3HuZetPlbdnXKCfklN3CDj"});

/***/ }),

/***/ "./src/client/components/details/details.scss":
/*!****************************************************!*\
  !*** ./src/client/components/details/details.scss ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"_2ipSUfV-4BIzPS6WOMDYPg","root__aside":"Fp06vNgioy9buCDlGdsxa","root__content":"_1W9wIWfyrVDFxDbzHsr0ix","root__btn-backward":"_2Oe67rCIiPAxMAxs2DtXCb"});

/***/ }),

/***/ "./src/client/components/error-plug/error-plug.scss":
/*!**********************************************************!*\
  !*** ./src/client/components/error-plug/error-plug.scss ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"vxTsoN8CBwcmhUrUuuIpL"});

/***/ }),

/***/ "./src/client/components/gallery/gallery.scss":
/*!****************************************************!*\
  !*** ./src/client/components/gallery/gallery.scss ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"_2Yjl-1w1HRNhRwWvRQMLiP"});

/***/ }),

/***/ "./src/client/components/search-bar/search-bar.scss":
/*!**********************************************************!*\
  !*** ./src/client/components/search-bar/search-bar.scss ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"KUwDQ7O-sB08SgJCv6JUG","root__magnifying-glass":"_3JVX9kPM8m-7z1SkrtdKtJ","root__input":"QLXkaPi43BFkwA7XAmatM","root_disabled":"_31DhKG5dZf0ks4ROrZ3qvh"});

/***/ }),

/***/ "./src/client/components/skeleton/skeleton.scss":
/*!******************************************************!*\
  !*** ./src/client/components/skeleton/skeleton.scss ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"_3PuaPu4R1qfCqyo6ZxG1z8","background-shift":"thTdFIJSRpY9yFpkIQmRn"});

/***/ }),

/***/ "./src/client/components/wh-search-box/wh-search-box.scss":
/*!****************************************************************!*\
  !*** ./src/client/components/wh-search-box/wh-search-box.scss ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"_2BsgEMe1LEX0iJ7bgZata1","root__search-bar":"_3kURvWdSNN7HxQEbkY8d24","root__ctls-box":"_201RsWi2Dy4UaSgMFpInMw","root__parameters-box":"_9TxdnNqBo5njSlnboTCt_","root__parameter":"_1wt5p4j1mCgxzzx4wwqN8f"});

/***/ }),

/***/ "body-parser":
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("body-parser");

/***/ }),

/***/ "core-js/stable":
/*!*********************************!*\
  !*** external "core-js/stable" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("core-js/stable");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("express");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "node-fetch":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node-fetch");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react-dom/server":
/*!***********************************!*\
  !*** external "react-dom/server" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom/server");

/***/ }),

/***/ "react-redux":
/*!******************************!*\
  !*** external "react-redux" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-redux");

/***/ }),

/***/ "react-router":
/*!*******************************!*\
  !*** external "react-router" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-router");

/***/ }),

/***/ "react-router-dom":
/*!***********************************!*\
  !*** external "react-router-dom" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-router-dom");

/***/ }),

/***/ "react-transition-group":
/*!*****************************************!*\
  !*** external "react-transition-group" ***!
  \*****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-transition-group");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "redux":
/*!************************!*\
  !*** external "redux" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("redux");

/***/ }),

/***/ "regenerator-runtime/runtime":
/*!**********************************************!*\
  !*** external "regenerator-runtime/runtime" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("regenerator-runtime/runtime");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "/";
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!******************************!*\
  !*** ./src/server/entry.tsx ***!
  \******************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_stable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/stable */ "core-js/stable");
/* harmony import */ var core_js_stable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_stable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime */ "regenerator-runtime/runtime");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom/server */ "react-dom/server");
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router */ "react-router");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_router__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! redux */ "redux");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(redux__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ "react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _client_store_initials_galleryState__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../client/store/initials/galleryState */ "./src/client/store/initials/galleryState.ts");
/* harmony import */ var _client_store_initials_detailsPageFlag__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../client/store/initials/detailsPageFlag */ "./src/client/store/initials/detailsPageFlag.ts");
/* harmony import */ var _client_store_initials_coreState__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../client/store/initials/coreState */ "./src/client/store/initials/coreState.ts");
/* harmony import */ var _client_components_app_app__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../client/components/app/app */ "./src/client/components/app/app.tsx");
/* harmony import */ var _wh_server_api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./wh-server-api */ "./src/server/wh-server-api.ts");
/* harmony import */ var _shared_proxy_def__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../shared/proxy.def */ "./src/shared/proxy.def.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react/jsx-dev-runtime */ "react/jsx-dev-runtime");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__);
var _jsxFileName = "/home/user/Development/RS_SCHOOL/WEB/JSFE-2021/stage3/react-ssr-nogit/react-api/src/server/entry.tsx",
    _this = undefined;

















var fs = __webpack_require__(/*! fs */ "fs");

var path = __webpack_require__(/*! path */ "path");

var bodyParser = __webpack_require__(/*! body-parser */ "body-parser"); // create express application


var app = express__WEBPACK_IMPORTED_MODULE_4__();
var jsonParser = bodyParser.json();

if (true) {
  app.get(/node_modules/, express__WEBPACK_IMPORTED_MODULE_4__.static(path.resolve(__dirname, '../../')));
}

app.get(/\.(js|css|map|ico|png|jpeg|jpg)$/, express__WEBPACK_IMPORTED_MODULE_4__.static(path.resolve(__dirname, '../client')));
var fetchOneWallpaper =  true ? _wh_server_api__WEBPACK_IMPORTED_MODULE_12__.getWHWallpaer : 0;

var proxyOneWHWalpaper = function proxyOneWHWalpaper(res, req) {
  fetchOneWallpaper(req).then(function (data) {
    res.status(200);
    return res.send(data);
  })["catch"](function (err) {
    console.error("Server encounter an error while fething one wallpaper: ".concat(err, " "));
    res.status(500);
    return res.send();
  });
};

var getWHSearchFunc =  true ? _wh_server_api__WEBPACK_IMPORTED_MODULE_12__.getWHSearch : 0;

var proxyWHSearch = function proxyWHSearch(res, req) {
  getWHSearchFunc(req).then(function (data) {
    console.log(data);
    res.status(200);
    return res.send(data);
  })["catch"](function (err) {
    console.error("Server encounter an error while fething one wallpaper: ".concat(err, " "));
    res.status(500);
    return res.send();
  });
};

app.post('/proxy', jsonParser, function (req, res, next) {
  try {
    var payload = req.body;
    console.log(req);

    switch (payload.code) {
      case _shared_proxy_def__WEBPACK_IMPORTED_MODULE_13__.ProxyReqCodes.WHWpInfo:
        proxyOneWHWalpaper(res, payload);
        return;

      case _shared_proxy_def__WEBPACK_IMPORTED_MODULE_13__.ProxyReqCodes.WHSearch:
        proxyWHSearch(res, payload);
        return;

      default:
        throw new Error();
    }
  } catch (_unused) {
    res.status(404);
    res.send('Unrecognizable proxy request');
  }
}); // в ответ на любые другие запросы отправляем 'index.html'

app.use('*', function (req, res) {
  // читаем файл `index.html`
  var indexHTML = fs.readFileSync(path.resolve(__dirname, '../client/index.html'), {
    encoding: 'utf8'
  });
  var initState = {
    galleryState: _client_store_initials_galleryState__WEBPACK_IMPORTED_MODULE_8__.GALLERY_INITIAL_STATE,
    detailsPageState: _client_store_initials_detailsPageFlag__WEBPACK_IMPORTED_MODULE_9__.DETAILS_PAGE_INIT_STATE,
    coreState: _client_store_initials_coreState__WEBPACK_IMPORTED_MODULE_10__.CORE_INITIAL_STATE
  };
  var store = (0,redux__WEBPACK_IMPORTED_MODULE_6__.createStore)(function (state) {
    return state;
  }, initState);
  var context = {}; // получаем HTML строку из компонента 'App'

  var appHTML = react_dom_server__WEBPACK_IMPORTED_MODULE_3__.renderToString( /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxDEV)(react_redux__WEBPACK_IMPORTED_MODULE_7__.Provider, {
    store: store,
    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxDEV)(react_router__WEBPACK_IMPORTED_MODULE_5__.StaticRouter, {
      location: req.originalUrl,
      context: context,
      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxDEV)(_client_components_app_app__WEBPACK_IMPORTED_MODULE_11__.App, {}, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 126,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 125,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 124,
    columnNumber: 5
  }, _this)); // заполняем элемент '#root' содержимым из 'appHTML'
  // indexHTML = indexHTML.replace(
  //   '&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;',
  //   `&lt;div id=&quot;root&quot;&gt;${appHTML}&lt;/div&gt;`,
  // );

  indexHTML = indexHTML.replace('<div id="root"></div>', "<div id=\"root\">".concat(appHTML, "</div>")); // устанавливаем заголовок и статус

  res.contentType('text/html');
  res.status(200);
  return res.send(indexHTML);
}); // запускаем сервер на порту 9000

app.listen('9000', function () {
  console.log('Express server started at <http://localhost:9000>');
});
})();

/******/ })()
;
//# sourceMappingURL=server.js.map